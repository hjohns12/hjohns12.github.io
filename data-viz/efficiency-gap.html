<!DOCTYPE html>
<html lang="en">
    <head>
        <header id="header" class="projects-hero">
            <h3 id="logo"><a href="../index.html">>_ H.C.J.</a></h3>
            <nav>
              <a href="#" id="menu-icon"></a>
              <ul class="navUL">
                <li><a href="../contact.html">Contact</a></li>
                <li><a href="../talks.html">Talks</a></li>
                <li><a href="../cv.html">CV</a></li>
                <li><a href="../portfolio.html">Projects</a></li>
              </ul>
            </nav>
        
         </header> 
    </head>
        <link href="../public/css/style.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css"/>

        <link rel="icon" type="./image/x-icon" href="./public/img/favicon.ico">
      
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:image" content="https://cdn.shopify.com/s/files/1/1986/4079/products/Watercolorheart2_1500x1500.png?v=1527199604"/>
      
        <title>Hope Johnson</title>
      </head>
      <body>
        <div class="container">
            <section class="mw7 center ">
                <h2 class="fw1 ph3 ph0-l">Process: A Million Maps of Missouri</h2>
                    <div class="flex flex-column flex-row-ns">
                      <div class="pr3-ns mb4 mb0-ns w-100 w-40-ns">
                        <img src="../images/eg-viz.png" class="db" alt="Project screen-shot." style="width:700px;">
                      </div>
                      <div class="w-100 w-60-ns pl3-ns">
                        <p class="f6 f5-l lh-copy">
                            This visualization was made for my work at the Princeton Gerrymandering Project. The efficiency gap is a metric that quantifies the 
                            extremity of a partisan gerrymander. In early 2020, legislators in Missouri proposed a constitutional amendment 
                            that would lower the efficiency gap floor to +/- 15%. My project aims to show what type of redistricting map such a floor would permit as legal.
                        </p>

                        <p class="f6 f5-l lh-copy">
                            Visit the <a href="https://hopejohnson.zone/portion-viz">completed website</a> or view the <a href="https://github.com/hjohns12/portion-viz">source code</a>.
                        </p>
                      </div>
                    </div>
                    <div class="flex flex-column flex-row-ns">
                      <div class="pr3-ns mb4 mb0-ns w-100 w-40-ns">
                          <br> <br> <br>  <br> <br>
                        <img src="../images/eg-sketch.jpeg" class="db" alt="EG sketch.">
                      </div>
                      <div class="w-100 w-60-ns pl3-ns">
                          <br>
                        <h1 class="f3 fw1 mt0 lh-title">Information Design</h1>
                        <p class="f6 f5-l lh-copy">
                            The data generated by running a chain provided a lot of information, and my goal was to let the user explore how each 
                            variable interacted with the others. Every row represented one possible redistricting plan, and I had information on the predicted vote share by district, 
                            state-wide seat share, and the efficiency gap for each plan. I decided to create three main components that would all interact with each other: a box-and-whisker plot summarizing the 
                            vote shares from the ensemble, a histogram displaying the spread of efficiency gaps, and a table to show the seat share for each data point. 
                            Below is one of my first sketches showing how I initially envisioned the final product. 
                        </p>
                      </div>
                    </div>

                    <div class="flex flex-column flex-row-ns">
                        <div class="pr3-ns mb4 mb0-ns w-100 w-40-ns">
                          <img src="../images/eg-architecture.jpeg" class="db" alt="Architecture sketch.">
                        </div>
                        <div class="w-100 w-60-ns pl3-ns">
                            <br>
                          <p class="f6 f5-l lh-copy">
                            The technical architecture helped me keep track of what needed to be re-drawn once a change was made by the user (i.e., new selection
                            from the drop-down or click on a new dot). I followed this document very closely when I started coding in order to keep track of all of the moving parts!
                          </p>
                        </div>
                      </div>

                    <div class="flex flex-column flex-row-ns">
                      <div class="pr3-ns mb4 mb0-ns w-100 w-40-ns"> 
                          <br> <br>
                        <img src="../images/eg-boxes.jpeg" class="db" alt="Architecture sketch.">
                      </div>
                      <div class="w-100 w-60-ns pl3-ns">
                          <br> <br> <br> <br> 
                        <p class="f6 f5-l lh-copy">
                            One of the most challenging parts of this project was creating the box-and-whisker plots. Figuring out how to go from the raw data to bins using JavaScript
                            was surprisingly difficult. Luckily, Mike Bostock <a href="https://observablehq.com/@d3/box-plot"> shared an example</a> of his version and that helped me figure it out.
                        </p>
                      </div>
                    </div>


                    <div class="flex flex-column flex-row-ns">
                        <div class="pr3-ns mb4 mb0-ns w-100 w-40-ns">
                        </div>
                        <div class="w-160 pl3-ns">
                            <br>
                          <h1 class="f3 fw1 mt0 lh-title">Technical Overview</h1>
                          <p class="f6 f5-l lh-copy">
                            The data-generating process for this project was quite intensive. To create the final data I used <a href="https://gerrychain.readthedocs.io/en/latest/">GerryChain</a>, a python library for using Markov Chain Monte Carlo methods
                             to study the problem of political redistricting. 
                        
                            The basic workflow is to start with the geometry of an initial plan (aka "initial partition") and generate a large collection of sample plans for comparison. 
                            I constrained these sampled plans based on contiguity and population deviation between districts. Comparing the initial plan to the ensemble provides quantitative tools for measuring whether or not it is an outlier among the sampled plans.
                          </p>

                          <p class="f6 f5-l lh-copy">
                            All of my data sources can be found in the README of <a href="https://github.com/PrincetonUniversity/gerryspam/tree/master/MO">this repository</a>. 
                            To clean the data, I used a precinct-level map from 2016 matched with elections. I labelled each precinct with state senate and state house legislative districts, 
                            and aggregated the 2010 Census block-level population counts up to the precinct-level. The script to do the district labelling is <a href="https://github.com/PrincetonUniversity/gerryspam/blob/master/MO/clean.py"> here</a>, 
                            and the script to do the population aggregation is <a href="https://github.com/PrincetonUniversity/gerryspam/blob/master/MO/prec_to_blocks.py">here</a>. 
                          </p>

                          <p class="f6 f5-l lh-copy">
                            Running the actual chain took about 9 hours, because I wanted to try each ensemble with various population deviations (1%, 3%, and 5%) and compare the outcomes. I 
                            used <a href="https://github.com/PrincetonUniversity/gerryspam/blob/master/MO/sampling.py">this script</a> to do the sampling, then randomly selected 2,000 data points from the final data to display on my visualization. 
                          </p>
                        </div>
                      </div>

              </section>
              
      

</html>